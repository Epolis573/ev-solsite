import{P as r,s as o}from"./PageTop.astro_astro_type_script_index_0_lang.b1bb8cc1.js";import{T as a}from"./constants.e6c90e33.js";import{N as h}from"./News.a206a14d.js";import"./easing.ca1274dc.js";import"./taillight.be3f79a0.js";import"./image.63ed914f.js";import"./cloud_02.dbe4073e.js";import"./spark.83ebcaee.js";import"./project.49f9dddf.js";(class extends r{}).register();(class extends a{static componentName="GL";static isLocal=!0;static isDisableAutoPlayScroll=!0;stats;gl;isInit=!1;storedDeltaTime=0;onInit(){super.onInit({autoClear:!1,pixelRatioMax:1.5,alpha:!0}),this.nowBlur=1,this.colorBG=document.querySelector(".color-cover"),this.initGl()}initGl(){this.isInit||(this.isInit=!0,this.gl=h.create(this.el,{renderer:this.renderer,camera:this.camera,width:this.width,height:this.height,pixelRatio:this.pixelRatio,isLowerPage:!0}),this.emitSelfResize(),this.el.addEventListener("blurchabge",this.blurChange),this.gl.render())}blurChange=e=>{const t=Math.max(e.detail.progress(),0);this.nowBlur!==t&&(this.stats?.begin(),this.gl.blur(t),this.stats?.end(),this.nowBlur=t)};onLoadDone(){this.gl.setFooter(),this.gl.progress404(0),this.playScroll(),this.playTick()}onResize(){super.onResize(),this.gl?.resize(this.width,this.height,this.pixelRatio)}onIntersect({isIntersecting:e},t){o.isLoadDone.pageCareers&&(e?this.playTick():this.pauseTick())}onScroll({scroll:e,limit:t}){this.stats?.begin();const i=e/t;this.colorBG.style.opacity=Math.sin(180*i*(Math.PI/180))*.3,this.gl.progress404(i),this.stats?.end()}onTick(e,t,i){if(i%2===0){const s=this.storedDeltaTime+t;this.storedDeltaTime=0,this.gl.tick(e,s,i),this.gl.render()}else this.storedDeltaTime+=t}}).register();
